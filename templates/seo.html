<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Analytics Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
        }

        .keyword-chip {
            transition: all 0.2s ease;
        }

        .keyword-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .skeleton {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            background-color: #e5e7eb;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }
    </style>
</head>

<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
            <div>
                <h1 class="text-3xl font-bold text-gray-800 mb-1">SEO Analytics Dashboard</h1>
                <p class="text-gray-600">Track and compare SEO performance across brands</p>
            </div>
            <div class="mt-4 md:mt-0 flex items-center gap-3">
                <div class="relative">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" placeholder="Search brands..."
                        class="pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <button
                    class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
                    <i class="fas fa-plus"></i>
                    <span>Add Brand</span>
                </button>
            </div>
        </div>

        <!-- Stats Overview -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8" id="stats-overview"></div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Comparison Chart -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
                        <h2 class="text-xl font-bold text-gray-800 mb-2 sm:mb-0">Brand Comparison</h2>
                        <div class="flex items-center gap-4">
                            <div class="flex items-center">
                                <label for="metric-select"
                                    class="mr-2 text-sm font-medium text-gray-700">Metric:</label>
                                <select id="metric-select"
                                    class="border border-gray-200 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option>Select metric</option>
                                </select>
                            </div>
                            <button id="export-csv"
                                class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-1 transition-colors">
                                <i class="fas fa-file-export"></i>
                                <span>Export</span>
                            </button>
                        </div>
                    </div>
                    <div class="h-80">
                        <canvas id="brand-comparison-chart"></canvas>
                    </div>
                </div>

                <!-- Trend Lines -->
                <div class="bg-white rounded-xl p-6 card-shadow" id="trend-lines-section">
                    <h2 class="text-xl font-bold text-gray-800 mb-6">Metric Trends</h2>
                    <div class="space-y-8">
                        <!-- Skeleton loading for trends -->
                        <div class="skeleton h-24 rounded-lg"></div>
                        <div class="skeleton h-24 rounded-lg"></div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="space-y-8">
                <!-- Top Keywords -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Top Keywords</h2>
                    <div id="top-keywords" class="flex flex-wrap gap-2"></div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Quick Actions</h2>
                    <div class="space-y-3">
                        <button id="refresh-seo-btn"
                            class="w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="bg-blue-100 p-2 rounded-lg">
                                    <i class="fas fa-sync text-blue-600"></i>
                                </div>
                                <span class="text-sm font-medium">Refresh Data</span>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </button>
                        <button id="generate-report-btn"
                            class="w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="bg-purple-100 p-2 rounded-lg">
                                    <i class="fas fa-chart-line text-purple-600"></i>
                                </div>
                                <span class="text-sm font-medium">Generate Report</span>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </button>
                    </div>
                </div>

                <!-- Move Processing SEO Data section here -->
                <div id="loading"
                    class="mt-12 bg-white rounded-xl p-8 card-shadow flex flex-col items-center justify-center">
                    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"></div>
                    <h3 class="text-lg font-medium text-gray-800 mb-1">Processing SEO Data</h3>
                    <p class="text-gray-500 text-sm">Extracting keywords and analyzing metrics...</p>
                </div>
                <div id="keywords" class="hidden mt-8 space-y-8"></div>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>

                // Initial fetch and setup
                function fetchAndUpdateSEO() {
                    fetch('/api/seo/keywords')
                        .then(res => res.json())
                        .then(data => {
                            dataCache = data;
                            document.getElementById('loading').style.display = 'none';
                            // Fallback: if no data, show a message
                            if (!data || Object.keys(data).length === 0) {
                                document.getElementById('keywords').style.display = 'block';
                                document.getElementById('keywords').innerHTML = '<div class="text-red-500 text-center text-lg">No SEO data available. Please check your database or try again later.</div>';
                                return;
                            }
                            document.getElementById('keywords').style.display = 'block';

                            // --- Dynamic Stats Overview ---
                            const brandNames = Object.keys(data);
                            const totalBrands = brandNames.length;
                            let totalKeywords = 0;
                            let topBrandSEO = '';
                            let topScoreSEO = 0;
                            let avgKeywordScore = 0;
                            let allKeywordScores = [];
                            let allKeywords = [];
                            brandNames.forEach(brand => {
                                const info = data[brand];
                                totalKeywords += info.keywords.length;
                                allKeywords = allKeywords.concat(info.keywords);
                                const avgScore = Object.values(info.avg_scores).reduce((a, b) => a + b, 0) / Object.values(info.avg_scores).length;
                                if (avgScore > topScoreSEO) {
                                    topScoreSEO = avgScore;
                                    topBrandSEO = brand;
                                }
                            });
                            // Get all metrics
                            if (brandNames.length > 0) {
                                allMetrics = Object.keys(data[brandNames[0]].avg_scores);
                            }
                            // Default metric: first in list
                            currentMetric = allMetrics[0];
                            function calcAvgMetric(metric) {
                                const scores = brandNames.map(b => data[b].avg_scores[metric]).filter(x => typeof x === 'number');
                                return scores.length > 0 ? (scores.reduce((a, b) => a + b, 0) / scores.length).toFixed(1) : 0;
                            }
                            function renderStatsOverview(metric) {
                                const avgMetricScore = calcAvgMetric(metric);
                                const statsDiv = document.getElementById('stats-overview');
                                if (statsDiv) statsDiv.innerHTML = `
                            <div class="bg-white rounded-xl p-6 card-shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-gray-500 text-sm font-medium">Total Brands</p>
                                        <p class="text-2xl font-bold text-gray-800 mt-1">${totalBrands}</p>
                                    </div>
                                    <div class="bg-blue-100 p-3 rounded-full">
                                        <i class="fas fa-store text-blue-600"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl p-6 card-shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-gray-500 text-sm font-medium">Avg. ${metric.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())} Score</p>
                                        <p class="text-2xl font-bold text-gray-800 mt-1">${avgMetricScore}</p>
                                    </div>
                                    <div class="bg-green-100 p-3 rounded-full">
                                        <i class="fas fa-key text-green-600"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl p-6 card-shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-gray-500 text-sm font-medium">Top Performing</p>
                                        <p class="text-2xl font-bold text-gray-800 mt-1">${topBrandSEO}</p>
                                    </div>
                                    <div class="bg-purple-100 p-3 rounded-full">
                                        <i class="fas fa-trophy text-purple-600"></i>
                                    </div>
                                </div>
                                <div class="mt-4 pt-4 border-t border-gray-100">
                                    <p class="text-gray-600 text-sm font-medium">
                                        Score: <span class="text-purple-600">${topScoreSEO.toFixed(1)}</span>
                                    </p>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl p-6 card-shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-gray-500 text-sm font-medium">Keywords Tracked</p>
                                        <p class="text-2xl font-bold text-gray-800 mt-1">${totalKeywords}</p>
                                    </div>
                                    <div class="bg-yellow-100 p-3 rounded-full">
                                        <i class="fas fa-tags text-yellow-600"></i>
                                    </div>
                                </div>
                            </div>
                        `;
                            }
                            renderStatsOverview(currentMetric);

                            // --- Top Keywords Section ---
                            // Count keyword frequency
                            const keywordCounts = {};
                            allKeywords.forEach(kw => {
                                keywordCounts[kw] = (keywordCounts[kw] || 0) + 1;
                            });
                            // Get top 10 keywords
                            const topKeywords = Object.entries(keywordCounts)
                                .sort((a, b) => b[1] - a[1])
                                .slice(0, 10)
                                .map(([kw, count]) => kw);
                            // Update Top Keywords section
                            const topKeywordsDiv = document.getElementById('top-keywords');
                            if (topKeywordsDiv) {
                                topKeywordsDiv.innerHTML = topKeywords.map(kw => `<span class="keyword-chip bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">${kw}</span>`).join('');
                            }

                            // --- Analytics Section ---
                            // Populate metric selector
                            const metricSelect = document.getElementById('metric-select');
                            metricSelect.innerHTML = '';
                            allMetrics.forEach(metric => {
                                const opt = document.createElement('option');
                                opt.value = metric;
                                opt.textContent = metric.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                                metricSelect.appendChild(opt);
                            });
                            metricSelect.value = currentMetric;
                            metricSelect.addEventListener('change', e => {
                                currentMetric = e.target.value;
                                renderStatsOverview(currentMetric);
                                drawComparisonChart(currentMetric);
                            });

                            // Draw comparison chart for the selected metric
                            function drawComparisonChart(selectedMetric) {
                                const ctx = document.getElementById('brand-comparison-chart').getContext('2d');
                                if (window.brandComparisonChart) window.brandComparisonChart.destroy();

                                // Generate a gradient for the chart
                                const gradient = ctx.createLinearGradient(0, 0, 0, 300);
                                gradient.addColorStop(0, 'rgba(59, 130, 246, 0.8)');
                                gradient.addColorStop(1, 'rgba(59, 130, 246, 0.2)');

                                window.brandComparisonChart = new Chart(ctx, {
                                    type: 'bar',
                                    data: {
                                        labels: brandNames,
                                        datasets: [{
                                            label: selectedMetric.replace(/_/g, ' '),
                                            data: brandNames.map(b => data[b].avg_scores[selectedMetric]),
                                            backgroundColor: gradient,
                                            borderColor: 'rgba(59, 130, 246, 1)',
                                            borderWidth: 1,
                                            borderRadius: 6,
                                            hoverBackgroundColor: 'rgba(59, 130, 246, 0.9)'
                                        }]
                                    },
                                    options: {
                                        responsive: true,
                                        maintainAspectRatio: false,
                                        plugins: {
                                            legend: { display: false },
                                            tooltip: {
                                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                                titleFont: { size: 14, weight: 'bold' },
                                                bodyFont: { size: 12 },
                                                padding: 12,
                                                cornerRadius: 8,
                                                displayColors: false,
                                                callbacks: {
                                                    label: function (context) {
                                                        return `${context.dataset.label}: ${context.raw}`;
                                                    }
                                                }
                                            }
                                        },
                                        scales: {
                                            y: {
                                                beginAtZero: true,
                                                max: 100,
                                                grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                                ticks: { font: { size: 12 } }
                                            },
                                            x: {
                                                grid: { display: false },
                                                ticks: { font: { size: 12 } }
                                            }
                                        }
                                    }
                                });
                            }

                            // Initial draw
                            if (allMetrics.length > 0) drawComparisonChart(allMetrics[0]);

                            // --- Trend Lines Section ---
                            let trendHtml = '<div class="space-y-8">';
                            allMetrics.forEach(metric => {
                                const chartId = `trend-${metric}`;
                                trendHtml += `
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="font-medium text-gray-800">${metric.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}</h3>
                                    <span class="text-sm text-gray-500">Avg: ${Math.round(brandNames.reduce((sum, b) => sum + data[b].avg_scores[metric], 0) / brandNames.length)}</span>
                                </div>
                                <div class="h-20">
                                    <canvas id="${chartId}"></canvas>
                                </div>
                            </div>
                        `;
                            });
                            trendHtml += '</div>';
                            document.getElementById('trend-lines-section').innerHTML = trendHtml;

                            // Draw line charts for each metric
                            allMetrics.forEach(metric => {
                                const ctx = document.getElementById(`trend-${metric}`).getContext('2d');
                                new Chart(ctx, {
                                    type: 'line',
                                    data: {
                                        labels: brandNames,
                                        datasets: [{
                                            label: metric.replace(/_/g, ' '),
                                            data: brandNames.map(b => data[b].avg_scores[metric]),
                                            borderColor: 'rgba(234, 88, 12, 0.9)',
                                            backgroundColor: 'rgba(234, 88, 12, 0.1)',
                                            borderWidth: 2,
                                            fill: true,
                                            tension: 0.3,
                                            pointBackgroundColor: 'rgba(234, 88, 12, 1)',
                                            pointRadius: 3,
                                            pointHoverRadius: 5
                                        }]
                                    },
                                    options: {
                                        responsive: true,
                                        maintainAspectRatio: false,
                                        plugins: {
                                            legend: { display: false },
                                            tooltip: {
                                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                                titleFont: { size: 12 },
                                                bodyFont: { size: 11 },
                                                padding: 8,
                                                cornerRadius: 6,
                                                displayColors: false
                                            }
                                        },
                                        scales: {
                                            y: {
                                                display: false,
                                                beginAtZero: true,
                                                max: 100
                                            },
                                            x: {
                                                grid: { display: false },
                                                ticks: { font: { size: 11 } }
                                            }
                                        },
                                        elements: { line: { borderWidth: 2 } }
                                    }
                                });
                            });

                            // --- Export CSV ---
                            document.getElementById('export-csv').onclick = function () {
                                let csv = 'Brand,' + allMetrics.map(m => '"' + m.replace(/_/g, ' ') + '"').join(',') + '\n';
                                brandNames.forEach(brand => {
                                    csv += '"' + brand + '"';
                                    allMetrics.forEach(metric => {
                                        csv += ',' + data[brand].avg_scores[metric];
                                    });
                                    csv += '\n';
                                });

                                const blob = new Blob([csv], { type: 'text/csv' });
                                const url = URL.createObjectURL(blob);
                                const a = document.createElement('a');
                                a.href = url;
                                a.download = 'seo_analytics.csv';
                                document.body.appendChild(a);
                                a.click();
                                document.body.removeChild(a);

                                // Show notification
                                const notification = document.createElement('div');
                                notification.className = 'fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in';
                                notification.innerHTML = `
                            <i class="fas fa-check-circle"></i>
                            <span>CSV exported successfully</span>
                        `;
                                document.body.appendChild(notification);

                                setTimeout(() => {
                                    notification.classList.add('animate-fade-out');
                                    setTimeout(() => {
                                        notification.remove();
                                    }, 300);
                                }, 3000);
                            };

                            // --- Brand Details Section ---
                            let html = '<h2 class="text-2xl font-bold text-gray-800 mb-6">Brand Details</h2>';

                            Object.entries(data).forEach(([brand, info]) => {
                                const brandId = brand.replace(/\s+/g, '');
                                html += `
                            <div class="bg-white rounded-xl overflow-hidden card-shadow">
                                <div class="p-6 border-b border-gray-100">
                                    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                                        <h3 class="text-xl font-bold text-gray-800">${brand}</h3>
                                        <div class="flex items-center gap-3">
                                            <span class="text-sm font-medium text-gray-600">Overall Score:</span>
                                            <span class="text-lg font-bold text-blue-600">
                                                ${Math.round(Object.values(info.avg_scores).reduce((a, b) => a + b, 0) / Object.values(info.avg_scores).length)}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="p-6">
                                    <h4 class="font-medium text-gray-800 mb-3">Top Keywords</h4>
                                    <div class="flex flex-wrap gap-2 mb-6">
                                        ${info.keywords.map(kw => `
                                            <span class="keyword-chip bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">
                                                ${kw}
                                            </span>
                                        `).join('')}
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <h4 class="font-medium text-gray-800 mb-3">SEO Metrics</h4>
                                            <div class="space-y-3">
                                                ${Object.entries(info.avg_scores).map(([metric, value]) => `
                                                    <div class="flex items-center mb-2">
                                                        <span class="w-32 text-gray-600 text-sm truncate">${metric.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}</span>
                                                        <div class="flex-1 mx-2 bg-gray-100 rounded-full h-2 relative">
                                                            <div class="bg-blue-600 h-2 rounded-full" style="width: ${value}%"></div>
                                                        </div>
                                                        <span class="w-12 text-right text-gray-800 text-sm font-medium">${value}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <h4 class="font-medium text-gray-800 mb-3">SEO Profile</h4>
                                            <div class="h-48">
                                                <canvas id="radar-${brandId}"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                            });

                            document.getElementById('keywords').innerHTML = html;

                            // Render radar charts for each brand
                            Object.entries(data).forEach(([brand, info]) => {
                                if (info.avg_scores) {
                                    const brandId = brand.replace(/\s+/g, '');
                                    const ctx = document.getElementById(`radar-${brandId}`).getContext('2d');
                                    new Chart(ctx, {
                                        type: 'radar',
                                        data: {
                                            labels: Object.keys(info.avg_scores).map(m => m.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())),
                                            datasets: [{
                                                label: `${brand} SEO Profile`,
                                                data: Object.values(info.avg_scores),
                                                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                                                borderColor: 'rgba(59, 130, 246, 1)',
                                                pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                                                pointBorderColor: '#fff',
                                                pointHoverRadius: 5,
                                                pointHoverBackgroundColor: 'rgba(59, 130, 246, 1)',
                                                pointHoverBorderColor: '#fff',
                                                pointHitRadius: 10,
                                                pointBorderWidth: 2
                                            }]
                                        },
                                        options: {
                                            responsive: true,
                                            maintainAspectRatio: false,
                                            plugins: {
                                                legend: { display: false },
                                                tooltip: {
                                                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                                    titleFont: { size: 12 },
                                                    bodyFont: { size: 11 },
                                                    padding: 8,
                                                    cornerRadius: 6,
                                                    displayColors: false
                                                }
                                            },
                                            scales: {
                                                r: {
                                                    angleLines: {
                                                        color: 'rgba(0, 0, 0, 0.1)'
                                                    },
                                                    grid: {
                                                        color: 'rgba(0, 0, 0, 0.05)'
                                                    },
                                                    suggestedMin: 0,
                                                    suggestedMax: 100,
                                                    ticks: {
                                                        backdropColor: 'transparent',
                                                        stepSize: 20
                                                    }
                                                }
                                            }
                                        }
                                    });
                                }
                            });

                            // Find top brand
                            let topBrand = '';
                            let topScore = 0;
                            brandNames.forEach(brand => {
                                const info = data[brand];
                                const avgScore = Object.values(info.avg_scores).reduce((a, b) => a + b, 0) / Object.values(info.avg_scores).length;
                                if (avgScore > topScore) {
                                    topScore = avgScore;
                                    topBrand = brand;
                                }
                            });
                            updateActivitiesFromSEO(data, topBrand, topScore);
                        });
                }
                fetchAndUpdateSEO();
                setInterval(fetchAndUpdateSEO, 3000);

                // Hook into export CSV to add activity
                const exportBtn = document.getElementById('export-csv');
                if (exportBtn) {
                    exportBtn.addEventListener('click', function () {
                        let topBrandExport = '';
                        let topScoreExport = 0;
                        if (dataCache) {
                            const brandNames = Object.keys(dataCache);
                            brandNames.forEach(brand => {
                                const info = dataCache[brand];
                                const avgScore = Object.values(info.avg_scores).reduce((a, b) => a + b, 0) / Object.values(info.avg_scores).length;
                                if (avgScore > topScoreExport) {
                                    topScoreExport = avgScore;
                                    topBrandExport = brand;
                                }
                            });
                        }
                        // recentActivities.unshift({ // This line is removed
                        //     icon: 'fa-file-export',
                        //     color: 'bg-purple-100 text-purple-600',
                        //     action: `Exported <span class='font-semibold'>${topBrandExport}</span> analytics as CSV`,
                        //     time: 'just now',
                        // });
                    });
                }

                document.getElementById('refresh-seo-btn').onclick = function () {
                    window.location.reload();
                };
                document.getElementById('generate-report-btn').onclick = function () {
                    window.location.href = '/report';
                };
            </script>
</body>

<div class="w-full flex justify-center mt-12 mb-8">
    <a href="/"
        class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold shadow transition">Back
        to Dashboard</a>
</div>

</html>